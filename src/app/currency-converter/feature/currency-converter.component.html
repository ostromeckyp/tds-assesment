<mat-card class="max-md:h-full">
  @let sCurr = sourceCurrency();
  @let tCurr = targetCurrency();
  @let preview = previewResult();
  <mat-card-header>
    <mat-card-subtitle>1 {{ sCurr?.name }} to w przeliczeniu</mat-card-subtitle>
    <mat-card-title>{{ preview }} {{ tCurr?.name }}</mat-card-title>
  </mat-card-header>

  <mat-card-content>
    <mat-form-field class="w-full" appearance="outline">
      <input matInput type="number" [ngModel]="sourceAmount()" (ngModelChange)="onSourceAmountInput($event)"/>
    </mat-form-field>

    <mat-form-field class="w-full" appearance="outline">
      <input matInput type="number" [ngModel]="targetAmount()" (ngModelChange)="onTargetAmountInput($event)"/>
    </mat-form-field>

    <div class="footer">
      <mat-select [(ngModel)]="sourceCurrency">
        @for (currency of currencies(); track currency) {
          <mat-option [value]="currency">
            {{ currency.name }}
          </mat-option>
        }
      </mat-select>
      <button matIconButton color="primary" (click)="swapCurrencies()">
        <mat-icon>swap_horiz</mat-icon>
      </button>
      <mat-select [(ngModel)]="targetCurrency">
        @for (currency of currencies(); track currency) {
          <mat-option [value]="currency">
            {{ currency.name }}
          </mat-option>
        }
      </mat-select>
    </div>
  </mat-card-content>
</mat-card>
